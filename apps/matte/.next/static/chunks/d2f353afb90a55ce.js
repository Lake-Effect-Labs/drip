(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34763,e=>{"use strict";var r=e.i(43476),s=e.i(71645);e.i(87467);var t=e.i(55654);let a=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));a.displayName="Card";let o=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("flex flex-col space-y-1.5 p-6",e),...s}));o.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("h3",{ref:a,className:(0,t.cn)("font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("p",{ref:a,className:(0,t.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let l=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("p-6 pt-0",e),...s}));l.displayName="CardContent",s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("div",{ref:a,className:(0,t.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>n,"CardHeader",()=>o,"CardTitle",()=>i])},40574,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(25913);e.i(87467);var a=e.i(55654),o=e.i(31278);let i=(0,t.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-muted hover:text-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground shadow-sm hover:bg-success/90"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),n=s.forwardRef(({className:e,variant:s,size:t,loading:n,children:l,disabled:d,...c},u)=>(0,r.jsxs)("button",{className:(0,a.cn)(i({variant:s,size:t,className:e})),ref:u,disabled:d||n,...c,children:[n&&(0,r.jsx)(o.Loader2,{className:"animate-spin"}),l]}));n.displayName="Button",e.s(["Button",()=>n])},25913,e=>{"use strict";var r=e.i(7670);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,t=r.clsx;e.s(["cva",0,(e,r)=>a=>{var o;if((null==r?void 0:r.variants)==null)return t(e,null==a?void 0:a.class,null==a?void 0:a.className);let{variants:i,defaultVariants:n}=r,l=Object.keys(i).map(e=>{let r=null==a?void 0:a[e],t=null==n?void 0:n[e];if(null===r)return null;let o=s(r)||s(t);return i[e][o]}),d=a&&Object.entries(a).reduce((e,r)=>{let[s,t]=r;return void 0===t||(e[s]=t),e},{});return t(e,l,null==r||null==(o=r.compoundVariants)?void 0:o.reduce((e,r)=>{let{class:s,className:t,...a}=r;return Object.entries(a).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...n,...d}[r]):({...n,...d})[r]===s})?[...e,s,t]:e},[]),null==a?void 0:a.class,null==a?void 0:a.className)}])},31278,e=>{"use strict";let r=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],31278)},18566,(e,r,s)=>{r.exports=e.r(76562)},80720,e=>{"use strict";var r=e.i(43476),s=e.i(71645);e.i(87467);var t=e.i(55654);let a=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)("label",{ref:a,className:(0,t.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));a.displayName="Label",e.s(["Label",()=>a])},34098,e=>{"use strict";var r=e.i(43476),s=e.i(71645);e.i(87467);var t=e.i(55654);let a=s.forwardRef(({className:e,type:s,error:a,...o},i)=>(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("input",{type:s,className:(0,t.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a&&"border-destructive focus-visible:ring-destructive",e),ref:i,...o}),a&&(0,r.jsx)("p",{className:"mt-1 text-xs text-destructive",children:a})]}));a.displayName="Input",e.s(["Input",()=>a])},26293,e=>{"use strict";var r=e.i(47167);e.i(29225);var s=e.i(72390);function t(){return(0,s.createBrowserClient)(r.default.env.NEXT_PUBLIC_SUPABASE_URL,r.default.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}e.s(["createClient",()=>t])},17765,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),a=e.i(22016),o=e.i(26293),i=e.i(40574),n=e.i(34098),l=e.i(80720),d=e.i(34763),c=e.i(69481),u=e.i(75254);let m=(0,u.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=(0,u.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function p(){let[e,u]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),[x,h]=(0,s.useState)(!1),[v,y]=(0,s.useState)(!1),b=(0,t.useRouter)(),{addToast:w}=(0,c.useToast)(),N=(0,o.createClient)();async function j(r){r.preventDefault(),y(!0);try{await N.auth.signOut({scope:"local"}),await new Promise(e=>setTimeout(e,100));let r=e.trim().toLowerCase();if(!r||!p){w("Please enter both email and password","error"),y(!1);return}console.log("ðŸ”‘ Attempting login..."),console.log("Email:",r),console.log("Password length:",p.length),console.log("Password first char code:",p.charCodeAt(0)),console.log("Password last char code:",p.charCodeAt(p.length-1));let{data:s,error:t}=await N.auth.signInWithPassword({email:r,password:p});if(t){console.error("âŒ Login error details:",{message:t.message,status:t.status,name:t.name,email:r,errorCode:t.code,fullError:t}),t.message.includes("Invalid login credentials")||t.message.includes("invalid")||400===t.status?w("Invalid email or password. If you just reset your password, make sure you're using the NEW password. If you've forgotten your password, click 'Forgot password?' below.","error"):t.message.includes("Email not confirmed")?w("Please confirm your email address before signing in. Check your inbox for a confirmation email.","error"):w(`Error: ${t.message}`,"error"),y(!1);return}if(!s.user||!s.session){console.error("âŒ No user or session in response"),w("Failed to sign in. Please try again.","error"),y(!1);return}console.log("âœ… Login successful!"),console.log("User:",s.user.email),console.log("User ID:",s.user.id),b.push("/app"),b.refresh()}catch(e){console.error("Unexpected login error:",e),w("An unexpected error occurred. Please try again.","error"),y(!1)}}return(0,s.useEffect)(()=>{{let e=sessionStorage.getItem("resetEmail");e&&(u(e),sessionStorage.removeItem("resetEmail"))}},[]),(0,r.jsxs)(d.Card,{className:"w-full max-w-md",children:[(0,r.jsxs)(d.CardHeader,{className:"text-center",children:[(0,r.jsx)(d.CardTitle,{className:"text-2xl",children:"Welcome back"}),(0,r.jsx)(d.CardDescription,{children:"Sign in to your Matte account"})]}),(0,r.jsxs)(d.CardContent,{children:[(0,r.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,r.jsx)(n.Input,{id:"email",type:"email",placeholder:"you@company.com",value:e,onChange:e=>u(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(l.Label,{htmlFor:"password",children:"Password"}),(0,r.jsx)(a.default,{href:"/forgot-password",className:"text-sm text-muted-foreground hover:text-foreground underline hover:no-underline",children:"Forgot password?"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(n.Input,{id:"password",type:x?"text":"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",value:p,onChange:e=>g(e.target.value),required:!0,className:"pr-10"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",tabIndex:-1,children:x?(0,r.jsx)(f,{className:"h-4 w-4"}):(0,r.jsx)(m,{className:"h-4 w-4"})})]})]}),(0,r.jsx)(i.Button,{type:"submit",className:"w-full",loading:v,children:"Sign in"})]}),(0,r.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,r.jsxs)("p",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,r.jsx)(a.default,{href:"/signup",className:"text-foreground underline hover:no-underline",children:"Sign up"})]}),(0,r.jsxs)("p",{className:"text-center text-xs text-muted-foreground",children:["Having trouble signing in?"," ",(0,r.jsx)(a.default,{href:"/forgot-password",className:"text-primary underline hover:no-underline font-medium",children:"Reset your password"})]})]})]})]})}e.s(["default",()=>p],17765)}]);