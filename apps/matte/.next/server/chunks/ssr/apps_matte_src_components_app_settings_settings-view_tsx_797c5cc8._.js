module.exports=[78085,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(83016),f=a.i(59193),g=a.i(63561),h=a.i(39177),i=a.i(63374),j=a.i(50838),k=a.i(87004),l=a.i(96792),m=a.i(20170),n=a.i(70106);let o=(0,n.default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),p=(0,n.default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),q=(0,n.default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);var r=a.i(60246);let s=(0,n.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var t=a.i(81560),u=a.i(33441);let v=(0,n.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var w=a.i(11156),x=a.i(73320),y=a.i(38632);function z({company:a,isOwner:n,currentUserId:z,currentUserEmail:A,config:B,teamMembers:C,inviteLinks:D,pickupLocations:E}){let F=(0,d.useRouter)(),{addToast:G}=(0,m.useToast)(),H=(0,e.createClient)(),[I,J]=(0,c.useState)(a),[K,L]=(0,c.useState)(B),[M,N]=(0,c.useState)(D),[O,P]=(0,c.useState)(E),[Q,R]=(0,c.useState)("");(0,c.useEffect)(()=>{},[]);let[S,T]=(0,c.useState)(I.name),[U,V]=(0,c.useState)(I.theme_id),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(I.logo_url||null),[aa,ab]=(0,c.useState)(K?.walls_rate_per_sqft?.toString()||""),[ac,ad]=(0,c.useState)(K?.ceilings_rate_per_sqft?.toString()||""),[ae,af]=(0,c.useState)(K?.trim_rate_per_sqft?.toString()||""),[ag,ah]=(0,c.useState)(K?.labor_rate_per_hour?.toString()||""),[ai,aj]=(0,c.useState)(!1),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(null),[ao,ap]=(0,c.useState)(""),[aq,ar]=(0,c.useState)(""),[as,at]=(0,c.useState)(""),[au,av]=(0,c.useState)(""),[aw,ax]=(0,c.useState)(""),[ay,az]=(0,c.useState)(!1);async function aA(){X(!0);try{let{error:a}=await H.from("companies").update({name:S.trim(),theme_id:U}).eq("id",I.id);if(a)throw a;J(a=>({...a,name:S.trim(),theme_id:U})),document.documentElement.setAttribute("data-theme",U),G("Company settings saved!","success"),F.refresh()}catch{G("Failed to save settings","error")}finally{X(!1)}}async function aB(a){let b=a.target.files?.[0];if(b){if(b.size>5242880)return void G("File too large (max 5MB)","error");if(!["image/jpeg","image/png","image/webp","image/svg+xml"].includes(b.type))return void G("Invalid file type. Allowed: JPEG, PNG, WebP, SVG","error");Z(!0);try{let a=new FormData;a.append("file",b);let c=await fetch(`/api/companies/${I.id}/logo`,{method:"POST",body:a}),d=await c.json();if(!c.ok)throw Error(d.error||"Failed to upload logo");_(d.logo_url),J(a=>({...a,logo_url:d.logo_url})),G("Logo uploaded successfully!","success"),F.refresh()}catch(a){G(a instanceof Error?a.message:"Failed to upload logo","error")}finally{Z(!1),a.target.value=""}}}async function aC(){aj(!0);try{let a={company_id:I.id,updated_at:new Date().toISOString()};aa.trim()&&(a.walls_rate_per_sqft=parseFloat(aa)),ac.trim()&&(a.ceilings_rate_per_sqft=parseFloat(ac)),ae.trim()&&(a.trim_rate_per_sqft=parseFloat(ae)),ag.trim()&&(a.labor_rate_per_hour=parseFloat(ag));let{error:b}=await H.from("estimating_config").upsert(a,{onConflict:"company_id"});if(b)throw b;let{data:c}=await H.from("estimating_config").select("*").eq("company_id",I.id).single();c&&(L(c),ab(c.walls_rate_per_sqft?.toString()||""),ad(c.ceilings_rate_per_sqft?.toString()||""),af(c.trim_rate_per_sqft?.toString()||""),ah(c.labor_rate_per_hour?.toString()||"")),G("Estimating rates saved!","success")}catch{G("Failed to save rates","error")}finally{aj(!1)}}async function aD(a){if(a===z)return void G("You cannot remove yourself","error");if(!confirm("Remove this user from the company?"))return;let{error:b}=await H.from("company_users").delete().eq("user_id",a).eq("company_id",I.id);b?G("Failed to remove user","error"):(F.refresh(),G("User removed","success"))}async function aE(a){if(a.preventDefault(),ao.trim()){az(!0);try{let a={company_id:I.id,name:ao.trim(),address1:aq||null,city:as||null,state:au||null,zip:aw||null};if(am){let{data:b,error:c}=await H.from("pickup_locations").update(a).eq("id",am.id).select().single();if(c)throw c;P(a=>a.map(a=>a.id===am.id?b:a))}else{let{data:b,error:c}=await H.from("pickup_locations").insert(a).select().single();if(c)throw c;P(a=>[...a,b].sort((a,b)=>a.name.localeCompare(b.name)))}al(!1),G("Location saved!","success")}catch{G("Failed to save location","error")}finally{az(!1)}}}async function aF(){try{let{data:a,error:b}=await H.from("invoices").select("*").eq("company_id",I.id).order("created_at",{ascending:!1});if(b)throw b;let c=[...new Set((a||[]).map(a=>a.customer_id).filter(a=>null!==a))],d=[...new Set((a||[]).map(a=>a.job_id).filter(a=>null!==a))],{data:e}=c.length>0?await H.from("customers").select("id, name").in("id",c):{data:[]},{data:f}=d.length>0?await H.from("jobs").select("id, title").in("id",d):{data:[]},g=new Map((e||[]).map(a=>[a.id,a.name])),h=new Map((f||[]).map(a=>[a.id,a.title])),i=["Date,Customer,Job,Amount,Status,Paid At",...(a||[]).map(a=>[a.created_at,`"${g.get(a.customer_id)||""}"`,`"${h.get(a.job_id)||""}"`,(a.amount_total/100).toFixed(2),a.status,a.paid_at||""].join(","))].join("\n"),j=new Blob([i],{type:"text/csv"}),k=URL.createObjectURL(j),l=document.createElement("a");l.href=k,l.download=`invoices-${new Date().toISOString().split("T")[0]}.csv`,l.click(),URL.revokeObjectURL(k),G("Invoices exported!","success")}catch{G("Failed to export","error")}}async function aG(){try{let{data:a}=await H.from("invoices").select("id").eq("company_id",I.id),b=a?.map(a=>a.id)||[],{data:c,error:d}=b.length>0?await H.from("invoice_payments").select("*").in("invoice_id",b).order("paid_at",{ascending:!1}):{data:[]};if(d)throw d;let{data:e}=b.length>0?await H.from("invoices").select("id, customer_id, job_id").in("id",b):{data:[]},f=[...new Set((e||[]).map(a=>a.customer_id).filter(a=>null!==a))],g=[...new Set((e||[]).map(a=>a.job_id).filter(a=>null!==a))],{data:h}=f.length>0?await H.from("customers").select("id, name").in("id",f):{data:[]},{data:i}=g.length>0?await H.from("jobs").select("id, title").in("id",g):{data:[]},j=new Map((e||[]).map(a=>[a.id,a])),k=new Map((h||[]).map(a=>[a.id,a.name])),l=new Map((i||[]).map(a=>[a.id,a.title])),m=["Date,Customer,Job,Amount,Payment Method",...(c||[]).map(a=>{let b=j.get(a.invoice_id),c=a.stripe_payment_intent_id?.startsWith("manual_")?a.stripe_payment_intent_id.split("_")[1]:"Stripe",d=b?.customer_id||"",e=b?.job_id||"";return[a.paid_at,`"${k.get(d)||""}"`,`"${l.get(e)||""}"`,(a.amount/100).toFixed(2),c].join(",")})].join("\n"),n=new Blob([m],{type:"text/csv"}),o=URL.createObjectURL(n),p=document.createElement("a");p.href=o,p.download=`payments-${new Date().toISOString().split("T")[0]}.csv`,p.click(),URL.revokeObjectURL(o),G("Payments exported!","success")}catch{G("Failed to export","error")}}async function aH(){try{let{data:a,error:b}=await H.from("customers").select("*").eq("company_id",I.id).order("name");if(b)throw b;let c=["Name,Phone,Email,Address,City,State,ZIP,Notes,Created At",...(a||[]).map(a=>[`"${a.name}"`,a.phone||"",a.email||"",`"${a.address1||""}"`,a.city||"",a.state||"",a.zip||"",`"${(a.notes||"").replace(/"/g,'""')}"`,a.created_at].join(","))].join("\n"),d=new Blob([c],{type:"text/csv"}),e=URL.createObjectURL(d),f=document.createElement("a");f.href=e,f.download=`customers-${new Date().toISOString().split("T")[0]}.csv`,f.click(),URL.revokeObjectURL(e),G("Customers exported!","success")}catch{G("Failed to export","error")}}let[aI,aJ]=(0,c.useState)(!1),[aK,aL]=(0,c.useState)(!1),[aM,aN]=(0,c.useState)(""),[aO,aP]=(0,c.useState)("");async function aQ(){if(!aM||!aO)return void G("Please select both start and end dates","error");aL(!0);try{let{data:a,error:b}=await H.from("jobs").select(`
          *,
          customer:customers(name, phone, email, address1, city, state, zip)
        `).eq("company_id",I.id).gte("created_at",aM).lte("created_at",`${aO}T23:59:59`).order("created_at",{ascending:!1});if(b)throw b;let{data:c,error:d}=await H.from("invoices").select("*").eq("company_id",I.id).gte("created_at",aM).lte("created_at",`${aO}T23:59:59`).order("created_at",{ascending:!1});if(d)throw d;let e=["Date,Job Title,Customer Name,Customer Phone,Customer Email,Address,Job Status,Invoice Amount,Invoice Status,Payment Date",...(a||[]).map(a=>{let b=(c||[]).filter(b=>b.job_id===a.id),d=b.reduce((a,b)=>a+b.amount_total,0),e=b.filter(a=>"paid"===a.status),f=e.length>0?e[0].updated_at:"",h=a.customer,i=h?[h.address1,h.city,h.state,h.zip].filter(Boolean).join(", "):"";return[(0,g.formatDate)(a.created_at),`"${a.title.replace(/"/g,'""')}"`,h?`"${h.name.replace(/"/g,'""')}"`:"",h?.phone||"",h?.email||"",`"${i.replace(/"/g,'""')}"`,a.status,d.toFixed(2),b.length>0?b[0].status:"none",f?(0,g.formatDate)(f):""].join(",")})].join("\n"),f=new Blob([e],{type:"text/csv"}),h=URL.createObjectURL(f),i=document.createElement("a");i.href=h,i.download=`jobs-export-${aM}-to-${aO}.csv`,i.click(),URL.revokeObjectURL(h),G("Export complete!","success"),aJ(!1)}catch(a){console.error("Export error:",a),G("Failed to export data","error")}finally{aL(!1)}}return(0,b.jsxs)("div",{className:"min-h-screen pb-20 lg:pb-0",children:[(0,b.jsx)("div",{className:"border-b bg-card p-4",children:(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"})}),(0,b.jsx)("div",{className:"max-w-3xl mx-auto p-4",children:(0,b.jsxs)(k.Tabs,{defaultValue:"company",className:"w-full",children:[(0,b.jsxs)(k.TabsList,{className:"w-full justify-start overflow-x-auto scrollbar-hide flex-nowrap gap-1 -mx-4 px-4 lg:flex-wrap lg:overflow-x-visible",children:[(0,b.jsxs)(k.TabsTrigger,{value:"company",children:[(0,b.jsx)(o,{className:"mr-1.5 h-4 w-4"}),"Company"]}),(0,b.jsxs)(k.TabsTrigger,{value:"estimating",children:[(0,b.jsx)(q,{className:"mr-1.5 h-4 w-4"}),"Estimating"]}),(0,b.jsxs)(k.TabsTrigger,{value:"crew",children:[(0,b.jsx)(r.Users,{className:"mr-1.5 h-4 w-4"}),"Crew"]}),(0,b.jsxs)(k.TabsTrigger,{value:"exports",children:[(0,b.jsx)(s,{className:"mr-1.5 h-4 w-4"}),"Exports"]}),(0,b.jsxs)(k.TabsTrigger,{value:"account",children:[(0,b.jsx)(r.Users,{className:"mr-1.5 h-4 w-4"}),"Account"]})]}),(0,b.jsxs)(k.TabsContent,{value:"company",className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Company Details"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"companyName",children:"Company Name"}),(0,b.jsx)(i.Input,{id:"companyName",value:S,onChange:a=>T(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(y.Image,{className:"h-4 w-4"}),"Company Logo"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload your company logo to display on customer-facing pages (estimates, invoices, payment links)."}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[$?(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("img",{src:$,alt:"Company Logo",className:"w-20 h-20 rounded-lg object-cover border"})}):(0,b.jsx)("div",{className:"w-20 h-20 rounded-lg bg-muted border flex items-center justify-center",children:(0,b.jsx)(y.Image,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(j.Label,{htmlFor:"logoUpload",className:"cursor-pointer",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Upload,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:$?"Change Logo":"Upload Logo"})]})}),(0,b.jsx)("input",{id:"logoUpload",type:"file",accept:"image/jpeg,image/png,image/webp,image/svg+xml",onChange:aB,disabled:Y,className:"hidden"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Max 5MB. Formats: JPEG, PNG, WebP, SVG"})]})]}),Y&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Uploading..."})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(p,{className:"h-4 w-4"}),"Theme"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose a Sherwin-Williams inspired color theme."}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:f.THEMES.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>V(a.id),className:`relative rounded-lg border p-3 text-left transition-all ${U===a.id?"border-primary ring-2 ring-primary":"hover:border-muted-foreground"}`,children:[(0,b.jsx)("div",{className:"h-8 w-full rounded mb-2",style:{backgroundColor:a.color}}),(0,b.jsx)("p",{className:"text-xs font-medium truncate",children:a.name}),U===a.id&&(0,b.jsx)(u.Check,{className:"absolute top-2 right-2 h-4 w-4 text-primary"})]},a.id))})]}),(0,b.jsx)(h.Button,{onClick:aA,loading:W,children:"Save Company Settings"})]}),(0,b.jsxs)(k.TabsContent,{value:"estimating",className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Square Footage Rates"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set your default $/sqft rates for auto-pricing estimates."}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"wallsRate",children:"Interior Walls ($/sqft)"}),(0,b.jsx)(i.Input,{id:"wallsRate",type:"number",step:"0.01",min:"0",value:aa,onChange:a=>ab(a.target.value),placeholder:"Suggested: 2.00"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"ceilingsRate",children:"Ceilings ($/sqft)"}),(0,b.jsx)(i.Input,{id:"ceilingsRate",type:"number",step:"0.01",min:"0",value:ac,onChange:a=>ad(a.target.value),placeholder:"Suggested: 0.50"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"trimRate",children:"Trim & Doors ($/sqft)"}),(0,b.jsx)(i.Input,{id:"trimRate",type:"number",step:"0.01",min:"0",value:ae,onChange:a=>af(a.target.value),placeholder:"Suggested: 0.75"})]})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Labor Rate"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set your default hourly rate for labor estimates."}),(0,b.jsx)("div",{className:"max-w-xs",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"laborRate",children:"Labor Rate ($/hr)"}),(0,b.jsx)(i.Input,{id:"laborRate",type:"number",step:"0.01",min:"0",value:ag,onChange:a=>ah(a.target.value),placeholder:"Suggested: 50.00"})]})})]}),(0,b.jsx)(h.Button,{onClick:aC,loading:ai,children:"Save Settings"})]}),(0,b.jsx)(k.TabsContent,{value:"crew",className:"mt-6 space-y-6",children:(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h3",{className:"font-semibold",children:"Crew Members"})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your crew members have access to jobs, estimates, and customer info. Everyone sees the same data."}),(0,b.jsx)("div",{className:"divide-y",children:C.map(a=>(0,b.jsxs)("div",{className:"py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium",children:[a.fullName||a.email,a.id===I.owner_user_id&&(0,b.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Owner)"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email})]}),n&&a.id!==z&&(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>aD(a.id),children:(0,b.jsx)(t.Trash2,{className:"h-4 w-4"})})]},a.id))})]})}),(0,b.jsx)(k.TabsContent,{value:"exports",className:"mt-6 space-y-6",children:(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Export Data"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Download your data for accounting or backup purposes."}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,b.jsxs)(h.Button,{variant:"outline",onClick:()=>aJ(!0),children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Export Jobs (CSV)"]}),(0,b.jsxs)(h.Button,{variant:"outline",onClick:aF,children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Export Invoices (CSV)"]}),(0,b.jsxs)(h.Button,{variant:"outline",onClick:aG,children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Export Payments (CSV)"]}),(0,b.jsxs)(h.Button,{variant:"outline",onClick:aH,children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Export Customers (CSV)"]})]})]})}),(0,b.jsxs)(k.TabsContent,{value:"account",className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4 space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Account"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),(0,b.jsx)("p",{className:"font-medium",children:A})]}),(0,b.jsxs)(h.Button,{variant:"destructive",onClick:async()=>{await H.auth.signOut(),F.push("/login"),F.refresh()},className:"w-full sm:w-auto",children:[(0,b.jsx)(v,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}),n&&(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Billing & Subscription"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your subscription and billing information"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-muted/50 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Current Plan"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:"Free Trial"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"You're currently on the free trial. Upgrade to unlock all features."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Payment Method"}),(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"No payment method on file"}),(0,b.jsxs)(h.Button,{variant:"outline",disabled:!0,children:[(0,b.jsx)(w.CreditCard,{className:"mr-2 h-4 w-4"}),"Add Payment Method"]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Billing History"}),(0,b.jsx)("div",{className:"rounded-lg border p-4",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No billing history available"})})]}),(0,b.jsx)("div",{className:"pt-4 border-t",children:(0,b.jsx)(h.Button,{variant:"outline",disabled:!0,className:"w-full sm:w-auto",children:"Upgrade Plan"})})]})]})]})]})}),(0,b.jsx)(l.Dialog,{open:aI,onOpenChange:aJ,children:(0,b.jsxs)(l.DialogContent,{children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:"Export Jobs Data"}),(0,b.jsx)(l.DialogDescription,{children:"Export job and invoice data for accounting purposes. Select a date range to export."})]}),(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"startDate",children:"Start Date"}),(0,b.jsx)(i.Input,{id:"startDate",type:"date",value:aM,onChange:a=>aN(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"endDate",children:"End Date"}),(0,b.jsx)(i.Input,{id:"endDate",type:"date",value:aO,onChange:a=>aP(a.target.value)})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-muted p-3 text-sm",children:[(0,b.jsx)("p",{className:"font-medium mb-1",children:"Export includes:"}),(0,b.jsxs)("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[(0,b.jsx)("li",{children:"Job details and status"}),(0,b.jsx)("li",{children:"Customer information"}),(0,b.jsx)("li",{children:"Invoice amounts and payment status"}),(0,b.jsx)("li",{children:"Payment dates"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>aJ(!1),children:"Cancel"}),(0,b.jsxs)(h.Button,{onClick:aQ,loading:aK,children:[(0,b.jsx)(s,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]})]})}),(0,b.jsx)(l.Dialog,{open:ak,onOpenChange:al,children:(0,b.jsxs)(l.DialogContent,{children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsx)(l.DialogTitle,{children:am?"Edit Location":"Add Pickup Location"}),(0,b.jsx)(l.DialogDescription,{children:"Add a Sherwin-Williams store or other pickup point."})]}),(0,b.jsxs)("form",{onSubmit:aE,className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"locationName",children:"Name *"}),(0,b.jsx)(i.Input,{id:"locationName",placeholder:"e.g., Sherwin-Williams #1234",value:ao,onChange:a=>ap(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"locationAddress",children:"Street Address"}),(0,b.jsx)(i.Input,{id:"locationAddress",placeholder:"123 Main St",value:aq,onChange:a=>ar(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"locationCity",children:"City"}),(0,b.jsx)(i.Input,{id:"locationCity",value:as,onChange:a=>at(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"locationState",children:"State"}),(0,b.jsx)(i.Input,{id:"locationState",maxLength:2,value:au,onChange:a=>av(a.target.value.toUpperCase())})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"locationZip",children:"ZIP"}),(0,b.jsx)(i.Input,{id:"locationZip",value:aw,onChange:a=>ax(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>al(!1),children:"Cancel"}),(0,b.jsx)(h.Button,{type:"submit",loading:ay,children:am?"Save Changes":"Add Location"})]})]})]})})]})}a.s(["SettingsView",()=>z],78085)}];

//# sourceMappingURL=apps_matte_src_components_app_settings_settings-view_tsx_797c5cc8._.js.map