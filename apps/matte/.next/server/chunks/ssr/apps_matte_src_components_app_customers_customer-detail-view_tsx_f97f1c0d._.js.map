{"version":3,"sources":["../../../../../../apps/matte/src/components/ui/dropdown-menu.tsx","../../../../../../apps/matte/src/components/app/customers/customer-detail-view.tsx","../../../../../../node_modules/lucide-react/src/icons/receipt.ts"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface DropdownMenuContextValue {\n  open: boolean;\n  setOpen: (open: boolean) => void;\n}\n\nconst DropdownMenuContext = React.createContext<DropdownMenuContextValue | undefined>(\n  undefined\n);\n\nfunction useDropdownMenu() {\n  const context = React.useContext(DropdownMenuContext);\n  if (!context) {\n    throw new Error(\"useDropdownMenu must be used within a DropdownMenu\");\n  }\n  return context;\n}\n\ninterface DropdownMenuProps {\n  children: React.ReactNode;\n}\n\nfunction DropdownMenu({ children }: DropdownMenuProps) {\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <DropdownMenuContext.Provider value={{ open, setOpen }}>\n      <div className=\"relative inline-block\">{children}</div>\n    </DropdownMenuContext.Provider>\n  );\n}\n\ninterface DropdownMenuTriggerProps {\n  children: React.ReactNode;\n  asChild?: boolean;\n  className?: string;\n}\n\nfunction DropdownMenuTrigger({\n  children,\n  asChild,\n  className,\n}: DropdownMenuTriggerProps) {\n  const { open, setOpen } = useDropdownMenu();\n\n  if (asChild && React.isValidElement(children)) {\n    return React.cloneElement(children as React.ReactElement<{ onClick?: () => void }>, {\n      onClick: () => setOpen(!open),\n    });\n  }\n\n  return (\n    <button\n      type=\"button\"\n      className={className}\n      onClick={() => setOpen(!open)}\n    >\n      {children}\n    </button>\n  );\n}\n\ninterface DropdownMenuContentProps {\n  children: React.ReactNode;\n  className?: string;\n  align?: \"start\" | \"center\" | \"end\";\n  sideOffset?: number;\n}\n\nfunction DropdownMenuContent({\n  children,\n  className,\n  align = \"end\",\n  sideOffset = 4,\n}: DropdownMenuContentProps) {\n  const { open, setOpen } = useDropdownMenu();\n  const ref = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        setOpen(false);\n      }\n    };\n\n    if (open) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      // Ensure menu stays on screen\n      if (ref.current) {\n        const rect = ref.current.getBoundingClientRect();\n        const viewportHeight = window.innerHeight;\n        const viewportWidth = window.innerWidth;\n        \n        // Adjust if going off bottom\n        if (rect.bottom > viewportHeight) {\n          ref.current.style.top = \"auto\";\n          ref.current.style.bottom = \"100%\";\n          ref.current.style.marginBottom = `${sideOffset}px`;\n          ref.current.style.marginTop = \"0\";\n        }\n        \n        // Adjust if going off right\n        if (rect.right > viewportWidth && align === \"end\") {\n          ref.current.style.right = \"0\";\n          ref.current.style.left = \"auto\";\n        }\n        \n        // Adjust if going off left\n        if (rect.left < 0 && align === \"start\") {\n          ref.current.style.left = \"0\";\n          ref.current.style.right = \"auto\";\n        }\n      }\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [open, setOpen, align, sideOffset]);\n\n  if (!open) return null;\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-fade-in\",\n        align === \"start\" && \"left-0\",\n        align === \"center\" && \"left-1/2 -translate-x-1/2\",\n        align === \"end\" && \"right-0\",\n        \"top-full\",\n        className\n      )}\n      style={{ marginTop: `${sideOffset}px` }}\n    >\n      {children}\n    </div>\n  );\n}\n\ninterface DropdownMenuItemProps {\n  children: React.ReactNode;\n  className?: string;\n  onClick?: () => void;\n  destructive?: boolean;\n  disabled?: boolean;\n}\n\nfunction DropdownMenuItem({\n  children,\n  className,\n  onClick,\n  destructive,\n  disabled,\n}: DropdownMenuItemProps) {\n  const { setOpen } = useDropdownMenu();\n\n  return (\n    <button\n      type=\"button\"\n      disabled={disabled}\n      className={cn(\n        \"relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground disabled:pointer-events-none disabled:opacity-50\",\n        destructive && \"text-destructive hover:bg-destructive/10 focus:bg-destructive/10\",\n        className\n      )}\n      onClick={() => {\n        onClick?.();\n        setOpen(false);\n      }}\n    >\n      {children}\n    </button>\n  );\n}\n\nfunction DropdownMenuSeparator({ className }: { className?: string }) {\n  return <div className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} />;\n}\n\nfunction DropdownMenuLabel({\n  children,\n  className,\n}: {\n  children: React.ReactNode;\n  className?: string;\n}) {\n  return (\n    <div className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}>\n      {children}\n    </div>\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuLabel,\n};\n\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { createClient } from \"@drip/core/database/server\";\nimport {\n  cn,\n  formatPhone,\n  formatDate,\n  formatCurrency,\n  JOB_STATUS_LABELS,\n  JOB_STATUS_COLORS,\n  type JobStatus,\n} from \"@/lib/utils\";\nimport type { Customer, Job, Invoice } from \"@drip/core/types\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useToast } from \"@/components/ui/toast\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuLabel,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  ArrowLeft,\n  Phone,\n  Mail,\n  MapPin,\n  User,\n  Briefcase,\n  Receipt,\n  FileText,\n  Pencil,\n  Trash2,\n  Clock,\n  DollarSign,\n  CheckCircle,\n  Calendar,\n  Plus,\n} from \"lucide-react\";\n\ninterface CustomerDetailViewProps {\n  customer: Customer;\n  jobs: Job[];\n  invoices: Invoice[];\n  jobNotes?: Array<{ id: string; note: string; created_at: string; job: { title: string } }>;\n  companyId: string;\n}\n\nconst ALLOWED_TAGS = ['good_payer', 'repeat_customer', 'referral', 'vip', 'needs_followup'] as const;\nconst MAX_TAGS_PER_CUSTOMER = 5;\n\nconst TAG_CONFIG: Record<typeof ALLOWED_TAGS[number], { label: string; variant: \"success\" | \"default\" | \"secondary\" | \"outline\"; icon: string }> = {\n  good_payer: { label: 'Good Payer', variant: 'success', icon: '‚úì' },\n  repeat_customer: { label: 'Repeat Customer', variant: 'default', icon: '‚Üª' },\n  referral: { label: 'Referral', variant: 'secondary', icon: 'üë•' },\n  vip: { label: 'VIP', variant: 'outline', icon: '‚≠ê' },\n  needs_followup: { label: 'Needs Follow-up', variant: 'secondary', icon: '!' },\n};\n\nexport function CustomerDetailView({\n  customer: initialCustomer,\n  jobs,\n  invoices,\n  jobNotes = [],\n  companyId,\n}: CustomerDetailViewProps) {\n  const router = useRouter();\n  const { addToast } = useToast();\n  const supabase = createClient();\n\n  const [customer, setCustomer] = useState(initialCustomer);\n  const [editing, setEditing] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [tags, setTags] = useState<string[]>([]);\n  const [loadingTags, setLoadingTags] = useState(true);\n\n  // Form state\n  const [name, setName] = useState(customer.name);\n  const [phone, setPhone] = useState(customer.phone || \"\");\n  const [email, setEmail] = useState(customer.email || \"\");\n  const [address1, setAddress1] = useState(customer.address1 || \"\");\n  const [city, setCity] = useState(customer.city || \"\");\n  const [state, setState] = useState(customer.state || \"\");\n  const [zip, setZip] = useState(customer.zip || \"\");\n  const [notes, setNotes] = useState(customer.notes || \"\");\n\n  // Load tags\n  useEffect(() => {\n    async function loadTags() {\n      const { data } = await supabase\n        .from(\"customer_tags\")\n        .select(\"tag\")\n        .eq(\"customer_id\", customer.id)\n        .eq(\"company_id\", companyId);\n      \n      if (data) {\n        setTags(data.map(t => t.tag));\n      }\n      setLoadingTags(false);\n    }\n    loadTags();\n  }, [customer.id, companyId, supabase]);\n\n  async function handleAddTag(tag: string) {\n    if (tags.length >= MAX_TAGS_PER_CUSTOMER) {\n      addToast(\"Maximum tags reached\", \"error\");\n      return;\n    }\n\n    try {\n      const { error } = await supabase\n        .from(\"customer_tags\")\n        .insert({\n          customer_id: customer.id,\n          company_id: companyId,\n          tag,\n        });\n\n      if (error && error.code !== \"23505\") { // Ignore duplicate errors\n        throw error;\n      }\n\n      setTags([...tags, tag]);\n      addToast(\"Tag added\", \"success\");\n    } catch (error) {\n      console.error(\"Error adding tag:\", error);\n      addToast(\"Failed to add tag\", \"error\");\n    }\n  }\n\n  async function handleRemoveTag(tag: string) {\n    try {\n      const { error } = await supabase\n        .from(\"customer_tags\")\n        .delete()\n        .eq(\"customer_id\", customer.id)\n        .eq(\"company_id\", companyId)\n        .eq(\"tag\", tag);\n\n      if (error) throw error;\n\n      setTags(tags.filter(t => t !== tag));\n      addToast(\"Tag removed\", \"success\");\n    } catch (error) {\n      console.error(\"Error removing tag:\", error);\n      addToast(\"Failed to remove tag\", \"error\");\n    }\n  }\n\n  const address = [customer.address1, customer.city, customer.state, customer.zip]\n    .filter(Boolean)\n    .join(\", \");\n\n  // Calculate totals from both invoices (legacy) and jobs (unified payment)\n  const invoiceTotalPaid = invoices\n    .filter((inv) => inv.status === \"paid\")\n    .reduce((sum, inv) => sum + inv.amount_total, 0);\n\n  const jobTotalPaid = jobs\n    .filter((job: any) => job.payment_state === \"paid\" && job.payment_amount)\n    .reduce((sum, job: any) => sum + (job.payment_amount || 0), 0);\n\n  const totalPaid = invoiceTotalPaid + jobTotalPaid;\n\n  const invoiceTotalAmount = invoices.reduce((sum, inv) => sum + inv.amount_total, 0);\n  const jobTotalAmount = jobs\n    .filter((job: any) => job.payment_amount && job.payment_amount > 0)\n    .reduce((sum, job: any) => sum + (job.payment_amount || 0), 0);\n\n  const totalInvoiced = invoiceTotalAmount + jobTotalAmount;\n\n  const pendingInvoices = invoices\n    .filter((inv) => inv.status !== \"paid\")\n    .reduce((sum, inv) => sum + inv.amount_total, 0);\n\n  const pendingJobs = jobs\n    .filter((job: any) => job.payment_amount && job.payment_amount > 0 && job.payment_state !== \"paid\")\n    .reduce((sum, job: any) => sum + (job.payment_amount || 0), 0);\n\n  const pendingAmount = pendingInvoices + pendingJobs;\n\n  // Calculate payment history from both invoices and jobs\n  const paidInvoicesHistory = invoices\n    .filter((inv) => inv.status === \"paid\" && inv.paid_at)\n    .map((inv) => {\n      const createdDate = new Date(inv.created_at);\n      const paidDate = new Date(inv.paid_at!);\n      const daysToPay = Math.round(\n        (paidDate.getTime() - createdDate.getTime()) / (1000 * 60 * 60 * 24)\n      );\n      return {\n        id: inv.id,\n        amount: inv.amount_total,\n        paidAt: inv.paid_at!,\n        daysToPay: Math.max(0, daysToPay),\n        type: 'invoice' as const,\n      };\n    });\n\n  const paidJobsHistory = jobs\n    .filter((job: any) => job.payment_state === \"paid\" && job.payment_paid_at && job.payment_amount)\n    .map((job: any) => {\n      const createdDate = new Date(job.created_at);\n      const paidDate = new Date(job.payment_paid_at);\n      const daysToPay = Math.round(\n        (paidDate.getTime() - createdDate.getTime()) / (1000 * 60 * 60 * 24)\n      );\n      return {\n        id: job.id,\n        amount: job.payment_amount,\n        paidAt: job.payment_paid_at,\n        daysToPay: Math.max(0, daysToPay),\n        type: 'job' as const,\n      };\n    });\n\n  const paidInvoices = [...paidInvoicesHistory, ...paidJobsHistory]\n    .filter((item) => item.daysToPay >= 0)\n    .sort((a, b) => new Date(b.paidAt).getTime() - new Date(a.paidAt).getTime());\n\n  const averageDaysToPay =\n    paidInvoices.length > 0\n      ? Math.round(\n          paidInvoices.reduce((sum, inv) => sum + inv.daysToPay, 0) / paidInvoices.length\n        )\n      : null;\n\n  function getPaymentBadgeText() {\n    if (!averageDaysToPay && averageDaysToPay !== 0) return null;\n    if (paidInvoices.length === 1) {\n      return `Paid last invoice in ${paidInvoices[0].daysToPay} days`;\n    }\n    if (averageDaysToPay < 7) return \"Usually pays within a week ‚úÖ\";\n    if (averageDaysToPay < 14) return \"Usually pays within 2 weeks\";\n    if (averageDaysToPay < 30) return `Average ${averageDaysToPay} days`;\n    return `Slow payer: ${averageDaysToPay} days ‚ö†Ô∏è`;\n  }\n\n  function getPaymentBadgeVariant(): \"success\" | \"secondary\" | \"warning\" | \"outline\" {\n    if (!averageDaysToPay && averageDaysToPay !== 0) return \"outline\";\n    if (averageDaysToPay < 7) return \"success\";\n    if (averageDaysToPay < 14) return \"secondary\";\n    if (averageDaysToPay < 30) return \"secondary\";\n    return \"warning\";\n  }\n\n  // Create a combined list of payments (invoices + jobs with payment)\n  const allPayments = [\n    ...invoices.map((inv) => ({\n      id: inv.id,\n      type: \"invoice\" as const,\n      amount: inv.amount_total,\n      status: inv.status,\n      created_at: inv.created_at,\n      title: `Invoice #${inv.id.slice(0, 8)}`,\n    })),\n    ...jobs\n      .filter((job: any) => job.payment_amount && job.payment_amount > 0)\n      .map((job: any) => ({\n        id: job.id,\n        type: \"job\" as const,\n        amount: job.payment_amount,\n        status: job.payment_state === \"paid\" ? \"paid\" : job.payment_state === \"sent\" ? \"sent\" : \"draft\",\n        created_at: job.created_at,\n        title: job.title,\n        jobTitle: job.title,\n      })),\n  ].sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n\n  // Create a combined timeline of jobs and invoices\n  const timeline = [\n    ...jobs.map((job) => ({\n      type: \"job\" as const,\n      date: job.created_at,\n      title: job.title,\n      status: job.status,\n      id: job.id,\n    })),\n    ...invoices.map((inv) => ({\n      type: \"invoice\" as const,\n      date: inv.created_at,\n      title: `Invoice - ${formatCurrency(inv.amount_total)}`,\n      status: inv.status,\n      id: inv.id,\n    })),\n  ].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n\n  async function handleSave() {\n    if (!name.trim()) {\n      addToast(\"Name is required\", \"error\");\n      return;\n    }\n\n    setSaving(true);\n\n    try {\n      const { error } = await supabase\n        .from(\"customers\")\n        .update({\n          name: name.trim(),\n          phone: phone || null,\n          email: email || null,\n          address1: address1 || null,\n          city: city || null,\n          state: state || null,\n          zip: zip || null,\n          notes: notes || null,\n        })\n        .eq(\"id\", customer.id);\n\n      if (error) throw error;\n\n      setCustomer((prev) => ({\n        ...prev,\n        name: name.trim(),\n        phone: phone || null,\n        email: email || null,\n        address1: address1 || null,\n        city: city || null,\n        state: state || null,\n        zip: zip || null,\n        notes: notes || null,\n      }));\n      setEditing(false);\n      addToast(\"Customer updated!\", \"success\");\n    } catch {\n      addToast(\"Failed to update customer\", \"error\");\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  async function handleDelete() {\n    if (!confirm(\"Delete this customer? This cannot be undone.\")) return;\n\n    const { error } = await supabase\n      .from(\"customers\")\n      .delete()\n      .eq(\"id\", customer.id);\n\n    if (error) {\n      addToast(\"Failed to delete customer\", \"error\");\n      return;\n    }\n\n    addToast(\"Customer deleted\", \"success\");\n    router.push(\"/app/customers\");\n  }\n\n  return (\n    <div className=\"min-h-screen pb-20 lg:pb-0\">\n      {/* Header */}\n      <div className=\"border-b bg-card\">\n        <div className=\"max-w-4xl mx-auto p-4\">\n          <button\n            onClick={() => router.back()}\n            className=\"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-4\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            Back\n          </button>\n\n          <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\n            <div className=\"flex items-center gap-4 min-w-0\">\n              <div className=\"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center shrink-0\">\n                <User className=\"h-7 w-7 text-primary\" />\n              </div>\n              <div className=\"min-w-0 flex-1\">\n                <h1 className=\"text-2xl font-bold truncate\">{customer.name}</h1>\n                <p className=\"text-muted-foreground text-sm\">\n                  Customer since {formatDate(customer.created_at)}\n                </p>\n                {/* Tags */}\n                {!loadingTags && (\n                  <div className=\"flex flex-wrap gap-2 items-center mt-2\">\n                    {tags.map(tag => {\n                      const config = TAG_CONFIG[tag as keyof typeof TAG_CONFIG];\n                      return config ? (\n                        <Badge\n                          key={tag}\n                          variant={config.variant}\n                          className=\"cursor-pointer\"\n                          onClick={() => {\n                            if (confirm(`Remove \"${config.label}\" tag?`)) {\n                              handleRemoveTag(tag);\n                            }\n                          }}\n                        >\n                          {config.icon} {config.label}\n                        </Badge>\n                      ) : null;\n                    })}\n                    {tags.length < MAX_TAGS_PER_CUSTOMER && (\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"outline\" size=\"sm\" className=\"h-6\">\n                            <Plus className=\"mr-1 h-3 w-3\" />\n                            Add Tag\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent>\n                          <DropdownMenuLabel>Select Tag</DropdownMenuLabel>\n                          {ALLOWED_TAGS.filter(tag => !tags.includes(tag)).map(tag => {\n                            const config = TAG_CONFIG[tag];\n                            return (\n                              <DropdownMenuItem\n                                key={tag}\n                                onClick={() => handleAddTag(tag)}\n                              >\n                                {config.icon} {config.label}\n                              </DropdownMenuItem>\n                            );\n                          })}\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n            <div className=\"flex gap-2\">\n              <Link href={`/app/jobs/new?customerId=${customer.id}`}>\n                <Button size=\"sm\">\n                  <Plus className=\"mr-2 h-4 w-4\" />\n                  Add Job\n                </Button>\n              </Link>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setEditing(!editing)}\n              >\n                <Pencil className=\"mr-2 h-4 w-4\" />\n                {editing ? \"Cancel\" : \"Edit\"}\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleDelete}\n                className=\"text-destructive hover:text-destructive\"\n              >\n                <Trash2 className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <div className=\"grid gap-6 lg:grid-cols-3\">\n          {/* Main content */}\n          <div className=\"lg:col-span-2 space-y-6 min-w-0\">\n            {editing ? (\n              /* Edit Form */\n              <div className=\"rounded-lg border bg-card p-4 space-y-4 overflow-hidden\">\n                <h3 className=\"font-semibold\">Edit Customer</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"name\">Name *</Label>\n                    <Input\n                      id=\"name\"\n                      value={name}\n                      onChange={(e) => setName(e.target.value)}\n                      required\n                      className=\"w-full\"\n                    />\n                  </div>\n\n                  <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2\">\n                    <div className=\"space-y-2 min-w-0\">\n                      <Label htmlFor=\"phone\">Phone</Label>\n                      <Input\n                        id=\"phone\"\n                        type=\"tel\"\n                        value={phone}\n                        onChange={(e) => setPhone(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    <div className=\"space-y-2 min-w-0\">\n                      <Label htmlFor=\"email\">Email</Label>\n                      <Input\n                        id=\"email\"\n                        type=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"address1\">Street Address</Label>\n                    <Input\n                      id=\"address1\"\n                      value={address1}\n                      onChange={(e) => setAddress1(e.target.value)}\n                      className=\"w-full\"\n                    />\n                  </div>\n\n                  <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-3\">\n                    <div className=\"space-y-2 min-w-0\">\n                      <Label htmlFor=\"city\">City</Label>\n                      <Input\n                        id=\"city\"\n                        value={city}\n                        onChange={(e) => setCity(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    <div className=\"space-y-2 min-w-0\">\n                      <Label htmlFor=\"state\">State</Label>\n                      <Input\n                        id=\"state\"\n                        maxLength={2}\n                        value={state}\n                        onChange={(e) => setState(e.target.value.toUpperCase())}\n                        className=\"w-full\"\n                      />\n                    </div>\n                    <div className=\"space-y-2 min-w-0\">\n                      <Label htmlFor=\"zip\">ZIP</Label>\n                      <Input\n                        id=\"zip\"\n                        value={zip}\n                        onChange={(e) => setZip(e.target.value)}\n                        className=\"w-full\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"notes\">Notes</Label>\n                    <Textarea\n                      id=\"notes\"\n                      rows={3}\n                      value={notes}\n                      onChange={(e) => setNotes(e.target.value)}\n                      placeholder=\"Internal notes about this customer...\"\n                      className=\"w-full\"\n                    />\n                  </div>\n\n                  <Button onClick={handleSave} loading={saving} className=\"w-full sm:w-auto\">\n                    Save Changes\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              /* Tabs View */\n              <Tabs defaultValue=\"timeline\" className=\"w-full\">\n                <TabsList className=\"w-full justify-start overflow-x-auto scrollbar-hide -mx-4 px-4\">\n                  <TabsTrigger value=\"timeline\" className=\"shrink-0\">\n                    <Clock className=\"mr-1.5 h-4 w-4 shrink-0\" />\n                    <span className=\"whitespace-nowrap\">Timeline</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"jobs\" className=\"shrink-0\">\n                    <Briefcase className=\"mr-1.5 h-4 w-4 shrink-0\" />\n                    <span className=\"whitespace-nowrap\">Jobs ({jobs.length})</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"invoices\" className=\"shrink-0\">\n                    <Receipt className=\"mr-1.5 h-4 w-4 shrink-0\" />\n                    <span className=\"whitespace-nowrap\">Payments ({allPayments.length})</span>\n                  </TabsTrigger>\n                  <TabsTrigger value=\"notes\" className=\"shrink-0\">\n                    <FileText className=\"mr-1.5 h-4 w-4 shrink-0\" />\n                    <span className=\"whitespace-nowrap\">Notes</span>\n                  </TabsTrigger>\n                </TabsList>\n\n                {/* Timeline Tab */}\n                <TabsContent value=\"timeline\" className=\"space-y-4\">\n                  {timeline.length === 0 ? (\n                    <div className=\"rounded-lg border bg-card p-8 text-center text-muted-foreground\">\n                      <Clock className=\"mx-auto h-8 w-8 mb-2\" />\n                      <p>No activity yet</p>\n                    </div>\n                  ) : (\n                    <div className=\"rounded-lg border bg-card\">\n                      {timeline.map((item, idx) => (\n                        <Link\n                          key={`${item.type}-${item.id}`}\n                          href={`/app/${item.type === \"job\" ? \"jobs\" : \"invoices\"}/${item.id}`}\n                          className=\"block p-4 hover:bg-muted/50 transition-colors border-b last:border-b-0\"\n                        >\n                          <div className=\"flex items-start gap-3\">\n                            <div className=\"w-10 h-10 rounded-lg bg-muted flex items-center justify-center shrink-0\">\n                              {item.type === \"job\" ? (\n                                <Briefcase className=\"h-5 w-5 text-primary\" />\n                              ) : (\n                                <Receipt className=\"h-5 w-5 text-success\" />\n                              )}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center justify-between gap-2\">\n                                <p className=\"font-medium truncate\">{item.title}</p>\n                                <Badge\n                                  variant={\n                                    item.status === \"paid\" || item.status === \"done\"\n                                      ? \"success\"\n                                      : item.status === \"in_progress\" || item.status === \"scheduled\"\n                                      ? \"secondary\"\n                                      : \"outline\"\n                                  }\n                                >\n                                  {item.status}\n                                </Badge>\n                              </div>\n                              <div className=\"flex items-center gap-1 text-sm text-muted-foreground mt-1\">\n                                <Calendar className=\"h-3 w-3\" />\n                                {formatDate(item.date)}\n                              </div>\n                            </div>\n                          </div>\n                        </Link>\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Jobs Tab */}\n                <TabsContent value=\"jobs\" className=\"space-y-4\">\n                  {jobs.length === 0 ? (\n                    <div className=\"rounded-lg border bg-card p-8 text-center text-muted-foreground\">\n                      <Briefcase className=\"mx-auto h-8 w-8 mb-2\" />\n                      <p>No jobs yet</p>\n                    </div>\n                  ) : (\n                    <div className=\"rounded-lg border bg-card divide-y\">\n                      {jobs.map((job) => (\n                        <Link\n                          key={job.id}\n                          href={`/app/jobs/${job.id}`}\n                          className=\"block p-4 hover:bg-muted/50 transition-colors\"\n                        >\n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <p className=\"font-medium\">{job.title}</p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                {formatDate(job.created_at)}\n                              </p>\n                            </div>\n                            <Badge className={JOB_STATUS_COLORS[job.status as JobStatus]}>\n                              {JOB_STATUS_LABELS[job.status as JobStatus]}\n                            </Badge>\n                          </div>\n                        </Link>\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Invoices/Payments Tab */}\n                <TabsContent value=\"invoices\" className=\"space-y-4\">\n                  {allPayments.length === 0 ? (\n                    <div className=\"rounded-lg border bg-card p-8 text-center text-muted-foreground\">\n                      <Receipt className=\"mx-auto h-8 w-8 mb-2\" />\n                      <p>No invoices or payments yet</p>\n                    </div>\n                  ) : (\n                    <div className=\"rounded-lg border bg-card divide-y\">\n                      {allPayments.map((payment) => (\n                        <Link\n                          key={`${payment.type}-${payment.id}`}\n                          href={payment.type === \"invoice\" ? `/app/invoices/${payment.id}` : `/app/jobs/${payment.id}`}\n                          className=\"block p-4 hover:bg-muted/50 transition-colors\"\n                        >\n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <p className=\"font-medium\">\n                                {formatCurrency(payment.amount)}\n                              </p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                {payment.type === \"job\" && payment.jobTitle ? payment.jobTitle : payment.title} ‚Ä¢ {formatDate(payment.created_at)}\n                              </p>\n                            </div>\n                            <Badge\n                              variant={\n                                payment.status === \"paid\"\n                                  ? \"success\"\n                                  : payment.status === \"sent\"\n                                  ? \"secondary\"\n                                  : \"outline\"\n                              }\n                            >\n                              {payment.status}\n                            </Badge>\n                          </div>\n                        </Link>\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n\n                {/* Notes Tab */}\n                <TabsContent value=\"notes\" className=\"space-y-4\">\n                  {/* Customer Notes */}\n                  <div className=\"rounded-lg border bg-card p-4\">\n                    <h4 className=\"font-semibold text-sm mb-2\">Customer Notes</h4>\n                    {customer.notes ? (\n                      <p className=\"whitespace-pre-wrap text-sm\">{customer.notes}</p>\n                    ) : (\n                      <p className=\"text-muted-foreground text-sm\">\n                        No customer notes yet. Click Edit to add notes.\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Job Notes */}\n                  {jobNotes.length > 0 && (\n                    <div className=\"rounded-lg border bg-card\">\n                      <div className=\"p-4 border-b\">\n                        <h4 className=\"font-semibold text-sm\">Job Notes ({jobNotes.length})</h4>\n                      </div>\n                      <div className=\"divide-y\">\n                        {jobNotes.map((note) => (\n                          <div key={note.id} className=\"p-4\">\n                            <div className=\"flex items-start justify-between gap-2 mb-2\">\n                              <p className=\"text-xs font-medium text-muted-foreground\">\n                                {note.job.title}\n                              </p>\n                              <p className=\"text-xs text-muted-foreground shrink-0\">\n                                {formatDate(note.created_at)}\n                              </p>\n                            </div>\n                            <p className=\"text-sm whitespace-pre-wrap\">{note.note}</p>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </TabsContent>\n              </Tabs>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-4 min-w-0\">\n            {/* Contact Info */}\n            <div className=\"rounded-lg border bg-card p-4 space-y-3 overflow-hidden\">\n              <h3 className=\"font-semibold\">Contact Info</h3>\n              {customer.phone && (\n                <div className=\"flex items-center gap-3 min-w-0\">\n                  <Phone className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n                  <a\n                    href={`tel:${customer.phone}`}\n                    className=\"text-sm hover:underline truncate\"\n                  >\n                    {formatPhone(customer.phone)}\n                  </a>\n                </div>\n              )}\n              {customer.email && (\n                <div className=\"flex items-center gap-3 min-w-0\">\n                  <Mail className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n                  <a\n                    href={`mailto:${customer.email}`}\n                    className=\"text-sm hover:underline truncate\"\n                  >\n                    {customer.email}\n                  </a>\n                </div>\n              )}\n              {address && (\n                <div className=\"flex items-start gap-3 min-w-0\">\n                  <MapPin className=\"h-4 w-4 text-muted-foreground shrink-0 mt-0.5\" />\n                  <span className=\"text-sm break-words min-w-0\">{address}</span>\n                </div>\n              )}\n              {!customer.phone && !customer.email && !address && (\n                <p className=\"text-sm text-muted-foreground\">\n                  No contact info added\n                </p>\n              )}\n            </div>\n\n            {/* Stats */}\n            <div className=\"rounded-lg border bg-card p-4 space-y-3\">\n              <h3 className=\"font-semibold\">Summary</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0\">\n                    <Briefcase className=\"h-4 w-4 text-primary\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-muted-foreground\">Total Jobs</p>\n                    <p className=\"font-semibold\">{jobs.length}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center shrink-0\">\n                    <Receipt className=\"h-4 w-4 text-blue-600\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-muted-foreground\">Total Invoiced</p>\n                    <p className=\"font-semibold\">{formatCurrency(totalInvoiced)}</p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 rounded-lg bg-success/10 flex items-center justify-center shrink-0\">\n                    <CheckCircle className=\"h-4 w-4 text-success\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"text-sm text-muted-foreground\">Total Paid</p>\n                    <p className=\"font-semibold text-success\">{formatCurrency(totalPaid)}</p>\n                  </div>\n                </div>\n                {pendingAmount > 0 && (\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"w-8 h-8 rounded-lg bg-warning/10 flex items-center justify-center shrink-0\">\n                      <DollarSign className=\"h-4 w-4 text-warning\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm text-muted-foreground\">Pending</p>\n                      <p className=\"font-semibold text-warning\">{formatCurrency(pendingAmount)}</p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Payment History */}\n            {paidInvoices.length > 0 && (\n              <div className=\"rounded-lg border bg-card p-4 space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"font-semibold\">Payment History</h3>\n                  {averageDaysToPay !== null && (\n                    <Badge variant={getPaymentBadgeVariant()} className=\"text-xs\">\n                      {getPaymentBadgeText()}\n                    </Badge>\n                  )}\n                </div>\n                {paidInvoices.length < 5 && (\n                  <p className=\"text-xs text-muted-foreground\">\n                    Based on {paidInvoices.length} invoice{paidInvoices.length !== 1 ? 's' : ''} ‚Ä¢ Limited data\n                  </p>\n                )}\n                <div className=\"space-y-2\">\n                  <div className=\"text-xs font-medium text-muted-foreground grid grid-cols-3 gap-2 pb-1 border-b\">\n                    <span>Invoice</span>\n                    <span>Paid</span>\n                    <span className=\"text-right\">Days</span>\n                  </div>\n                  {paidInvoices.slice(0, 5).map((payment) => (\n                    <div key={`${payment.type}-${payment.id}`} className=\"grid grid-cols-3 gap-2 text-sm\">\n                      <span className=\"font-medium truncate\">\n                        {formatCurrency(payment.amount)}\n                      </span>\n                      <span className=\"text-muted-foreground truncate\">\n                        {formatDate(payment.paidAt)}\n                      </span>\n                      <span className={cn(\n                        \"text-right font-medium\",\n                        payment.daysToPay < 7 ? \"text-success\" :\n                        payment.daysToPay < 30 ? \"text-foreground\" : \"text-warning\"\n                      )}>\n                        {payment.daysToPay}d\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z', key: 'q3az6g' },\n  ],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 17.5v-11', key: '1jc1ny' }],\n];\n\n/**\n * @component @name Receipt\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAydjIwbDItMSAyIDEgMi0xIDIgMSAyLTEgMiAxIDItMSAyIDFWMmwtMiAxLTItMS0yIDEtMi0xLTIgMS0yLTEtMiAxWiIgLz4KICA8cGF0aCBkPSJNMTYgOGgtNmEyIDIgMCAxIDAgMCA0aDRhMiAyIDAgMSAxIDAgNEg4IiAvPgogIDxwYXRoIGQ9Ik0xMiAxNy41di0xMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/receipt\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Receipt = createLucideIcon('receipt', __iconNode);\n\nexport default Receipt;\n"],"names":[],"mappings":"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","ignoreList":[2]}